<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>fun with DNS - thedeep3nd.io</title><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://thedeep3nd.io/fun-with-dns/"><link rel="amphtml" href="https://thedeep3nd.io/amp/fun-with-dns/"><link type="application/atom+xml" rel="alternate" href="https://thedeep3nd.io/feed.xml"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Heebo:400,500|Playfair+Display:400" rel="stylesheet"><link rel="stylesheet" href="https://thedeep3nd.io/assets/css/style.css?v=820e323b1e2322cfcf957dec0c9b24d0"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://thedeep3nd.io/fun-with-dns/"},"headline":"fun with DNS","datePublished":"2018-10-26T20:13","dateModified":"2018-10-26T20:13","description":"or working through minor issues w/ publii/gh-pages/namecheapnamecheap needs DNS records which point&hellip;","author":{"@type":"Person","name":"siddharth"},"publisher":{"@type":"Organization","name":"siddharth"}}</script><style></style></head><body><div class="container"><header class="js-top"><a class="logo" href="https://thedeep3nd.io">thedeep3nd.io</a><div class="top"><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle" aria-expanded="false">Menu</button><ul class="navbar__menu"></ul></nav></div></header><main><article class="post u-wrapper"><header class="hero"><p class="post__meta">By <a href="https://thedeep3nd.io/authors/sid/" rel="author" title="siddharth">siddharth</a> Published on <time datetime="2018-10-26T20:13">Oct 26, 2018</time></p><h1 class="post__title">fun with DNS</h1></header><div class="post__entry"><h4><span data-token-index="0" data-reactroot="">or</span> <span style="text-decoration: underline;"><em>working through minor issues w/ publii/gh-pages/namecheap</em></span></h4><p><span style="text-decoration: underline;">namecheap needs DNS records which point to gh-pages' IP addresses.</span></p><p>This needs to be updated through Namecheap (in the domain 'control panel'), keeping in mind that they aren't hosting anything. That is left up to the user; options are to either:</p><ul><li>maintain a physical server which will directly host the site</li><li>use a hosting service such as Wordpress (paid) or Github Pages/Gitlab Pages (free)</li></ul><p>My setup: <em>gh-pages</em> is the name of my Github repository. When a change gets pushed to the master branch, a couple things happen behind the scenes:</p><ol><li>Github Pages <em>builds</em> the project</li><li>Assuming a successful build, the site is then <em>deployed</em> to <code>username.github.io/gh-pages</code></li><li>Depending on the DNS configuration, hitting the <code>thedeep3nd.io</code> URL should show the updated site (basically a mirror of the other site).</li></ol><p><span style="text-decoration: underline;">CNAME files</span></p><p><code>CNAME</code> is a top-level file in the parent directory that is used by Github Pages to handle custom domain names. Any change (modification, creation, deletion) to the C<em>ustom Domain</em> field (in repo settings) will be treated as an actual commit to repo.</p><p>Another relevant fact: Github Pages limits you to one site per organization (<a href="http://username.github.io/">username.github.io</a>), but does not limit the number of <em>project</em> sites you're allowed to have, ie. <a href="http://username.github.io/myoroject">username.github.io/myproject</a> is also allowed, assuming that <em>myproject</em> is a gh-pages repo.</p><p>However, issues can appear when:</p><ul style="list-style-type: circle;"><li>Two (or more) separate gh-pages repos have the <strong>same</strong> custom domain in their CNAMEs. This is easier to fix since its a github issue, whereas:</li><li>your DNS records (hosted by Namecheap) are broken because of either an incorrect <em>A</em> record (mapping your domain to the Github Pages IPs</li></ul><p>In my haste to try out Publii, while I already had <a href="http://siddharth-agarwal.github.io">siddharth-agarwal.github.io</a> being published from its own repo, my new repo now also had an identical CNAME.</p><p>Eventally I tracked down the issue: I had added a URL redirect (?) from <a href="http://siddharth-agarwal.github.io">siddharth-agarwal.github.io</a> → <a href="http://thedeep3nd.io">thedeep3nd.io</a> <em>manually in my Namecheap settings</em>. So essentially, after a Publii commit to gh-pages, everything would break.</p><p>Once I deleted the CNAME record from Namecheap's DNS management system, everything started to work again.</p><pre><code>&gt; dig +noall +answer thedeep3nd.io
thedeep3nd.io.		1798	IN	A	185.199.111.153
thedeep3nd.io.		1798	IN	A	185.199.108.153
thedeep3nd.io.		1798	IN	A	185.199.110.153
thedeep3nd.io.		1798	IN	A	185.199.109.153

## after everything started working again ##
</code></pre><p>Strange issue.</p></div><footer class="post__footer"><div class="post__footer__col"><ul class="post__tag"><li><a href="https://thedeep3nd.io/tags/publii/">publii</a></li></ul></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://thedeep3nd.io/first-post/" class="inverse" rel="prev">first post</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://thedeep3nd.io/the-role-of-ai-in-finance/" class="inverse" rel="next">the future of AI in finance</a></h5></div></nav></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by Github Pages</div></footer></div><script defer="defer" src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script><script defer="defer" src="https://thedeep3nd.io/assets/js/scripts.min.js?v=f503b0ac46db9f99180b3b9f932c7f9a"></script></body></html>